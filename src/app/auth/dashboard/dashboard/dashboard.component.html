


<loading-image [is-loading]="isloading"></loading-image>


<div class="row pt-5">

  <div class="col welcome">
    <h2 style="font-weight: 600;">Welcome Back!</h2>
  </div>
</div>



<div class="row align-items-stretch pt-3">

  <div class="col-8" style="padding-right: 50px; padding-left: 20px;">


    <div class="row bg-white d-flex px-2 py-4 fontbol" style="border-radius: 20px; box-shadow: 0px 4px 20px #0000000D; 
">


      <div class="col ">

        <div class="card-body d-flex align-items-center "
          style=" background-color:  #FFE5EC;border-radius: 20px; height: 200px;">
          <div class="col d-flex flex-column align-items-center gap-3">
            <div class="d-inline-flex justify-content-center align-items-center"
              style=" background-color:#FFC0C4; border-radius: 20px; width: 50px; height: 50px;">
              <img src="assets/images/commissionerat.svg" style="width: 30px;height: 30px;  ">
            </div>

            <p class="card-text p-0 m-0" >Commissionerate</p>
            
            <h2 class="card-title p-0 m-0" > {{dashboardCountList[0].commissionerateCount}}</h2>
            
          </div>
        </div>

      </div>




      <div class="col">

        <div class="card-body d-flex align-items-center justify-content-center"
          style=" background-color:  #FFECE5;border-radius: 20px; height: 200px">
          <div class="col d-flex flex-column align-items-center gap-3">
            <div class="d-inline-flex justify-content-center align-items-center"
              style=" background-color:#FDD2B2; border-radius: 20px; width: 50px; height: 50px;">
              <img src="assets/images/division.svg" style="width: 30px; height: 30px;">
            </div>
            <p class="card-text p-0 m-0" >Division</p>
            <h2 class="card-title p-0 m-0" >{{dashboardCountList[0].divisionCount}}</h2>
          </div>
        </div>


      </div>
      <div class="col">


        <div class="card-body d-flex align-items-center"
          style="background-color: #fff5cc; border-radius: 20px; height: 200px">
          <div class="col d-flex flex-column align-items-center gap-3">
            <div class="d-inline-flex justify-content-center align-items-center"
              style="background-color:#F8E590; border-radius: 20px; width: 50px; height: 50px; ">
              <img src="assets/images/circle.svg" style="width: 30px; height: 30px;">
            </div>
            <p class="card-text p-0 m-0" >Circle</p>
            <h2 class="card-title p-0 m-0" >{{dashboardCountList[0].circleCount}}</h2>
          </div>
        </div>

      </div>

      <div class="col">

        <div class="card-body d-flex align-items-center "
          style="background-color: #f5fcd9; border-radius: 20px; height: 200px">
          <div class="col d-flex flex-column align-items-center gap-3">

            <div class="d-inline-flex justify-content-center align-items-center"
              style="background-color:#EDEF8F; border-radius: 20px; height: 50px; width: 50px;">
              <img src="assets/images/tax-payer.svg" style="width: 30px; height: 30px;">
            </div>
            <p class="card-text p-0 m-0" >Tax Payer</p>
            <h2 class="card-title p-0 m-0" >{{dashboardCountList[0].vatPayerCount}}</h2>

          </div>

        </div>


      </div>

    </div>


  </div>





  <div class="col-4 d-flex flex-column justify-content-between dateCustom" >
    <div class="row align-items-start">
      <p >Tax Payer</p>
      <div class="row align-items-center " style="padding-right: 0px;">



        
        <div class="custom-select-wrapper d-flex align-items-center m-0 p-0 " style="">
          <!-- Custom Dropdown -->
          <button class="btn btn-secondary dropdown-toggle no-arrow" 
        type="button" 
        id="dropdownMenuButton" 
        data-bs-toggle="dropdown" 
        aria-expanded="false" 
        style="border-radius: 15px; background-color: #FFFFFF; color: #00000099; font-size: 20px; width: 100%; text-align: left; padding-right: 35px; height: 60px; border: 1px solid #00000033;">
  Select Tax Payer
</button>
          <ul class="dropdown-menu costom-li" aria-labelledby="dropdownMenuButton" style="border: none; background-color: #0A3B40; border-bottom-left-radius: 15px; border-bottom-right-radius: 15px; font-size: 20px; font-weight: bold; width: 100%;
                    
          max-height: 300px; 
    overflow-y: auto; 
    overflow-x: hidden; 
          ">
            <li *ngFor="let payer of taxPayerList" (click)="selectTaxPayer(payer)">
              <a class="dropdown-item" href="#" [class.active]="taxPayerOid === payer.binNo">
                {{ payer.taxPayerName }}
              </a>
            </li>
          </ul>
        
          <!-- Custom Icon for Dropdown -->
          <i class="bi bi-chevron-down dropdown-icon d-flex align-items-center justify-content-center custom-icon" style="position: absolute; top: 50%; right: 10px; transform: translateY(-50%); font-size: 20px; "></i>
        </div>
        


       




      </div>



    </div>


    <div class="row justify-content-between">

      <div class="col-4 p-0">
        <p style="padding-left: 12px;">From Date</p>
       
        <div class="position-relative" style="width: 185px;">
         
          <input 
          type="date" 
          class="form-control dateFormat" 
          id="fromDate" 
          bsDatepicker 
         style="height: 60px; border-radius: 15px; cursor: pointer;" 
          [value]="currentDate"
          
          >
          
          <i class="bbi bi-calendar4-week dropdown-icon d-flex align-items-center justify-content-center custom-icon" style="color: #000000; font-size: 26px; border: none !important; background-color: #FFFFFF !important;"></i>
        
          </div>
        
        
      </div>

      <div class="col-4" >
        <p style="padding-left: 12px;">To Date</p>
        <div class="position-relative" style="width: 185px; ">
          
          <input 
          type="date" 
          class="form-control dateFormat" 
          id="todate" bsDatepicker 
          style="height: 60px; border-radius: 15px; cursor: pointer;" 
          [value]="addDate">
          
        
          <i class="bbi bi-calendar4-week dropdown-icon d-flex align-items-center justify-content-center custom-icon" style="color: #000000; font-size: 26px; border: none !important; background-color: #FFFFFF !important;"></i>
        </div>
      </div>

      <div class="col-4 d-flex align-items-end justify-content-end">
        <button 
        (click)="getBarchartData()"

        type="button" 
        class="btn"
        style=" height: 60px; background-color: #35BC8C; border-radius: 15px;  color: white; margin-left: 0px;"
          
          >Download
          <b> <i class="bi bi-download" style="padding-left: 5px; "> </i></b></button>
      </div>

    </div>





  </div>





</div>








  <div class="row pt-5 pb-4">



    <div class="col ">

      <div class="col d-flex bg-white"
        style=" border-radius: 20px; box-shadow: rgba(0, 0, 0, 0.02) 0px 1px 3px 0px, rgba(27, 31, 35, 0.15) 0px 0px 0px 1px; ">
  
  
        <div class=" col mx-5 my-4">
  
  
          <h1 style=" font-size: 24px; font-weight: 600; text-align: center; color: #000000; ">Monthly Total AT Paid by Company</h1>
          
          <div *ngIf="isBrowser" >
            <canvas baseChart
                    [datasets]="chartData"
                    [labels]="chartLabels"
                    [options]="chartOptions">
            </canvas>
          </div>
          
  
  
        </div>
  
  
        <div class="col-1" >
          <div class="vertical-line  "></div>
        </div>
  
  
        <div class="col mx-5 my-4">
  
  
  
         
          <h1 style=" font-size: 24px; font-weight: 600; text-align: center; color: #000000; ">Monthly Total Rebate Taken by Company</h1>
          
        
    
          <div *ngIf="isBrowser" >
            <canvas baseChart
                    [datasets]="chartData2"
                    [labels]="chartLabels2"
                    [options]="chartOptions">
            </canvas>
          </div>
          
          
          
  
        </div>
  
  
  
      </div>
  
  
    </div>
  
  
  
  
  </div>
  
  
